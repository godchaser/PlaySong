@(id: Long, songForm: Form[Song])

@import helper.twitterBootstrap._

@admin("") {
    <script src="@routes.Assets.at("javascripts/jquery-2.1.3.min.js")" type="text/javascript"></script>

    <div id="songEditor">
    <h2>Edit song</h2>
    @helper.form(action = routes.Application.newSong()) {
        @helper.inputText(songForm("songName"), args = '_label -> "Song name: ")
        @helper.inputText(songForm("songAuthor"), args = '_label -> "Song author: ")
        @helper.textarea(field = songForm("songLyrics"), args = '_label -> "Lyrics: ", 'rows -> 20, 'cols -> 40)
        <input type="submit" value="Save">
    }
    </div>

    <script type="text/javascript">

    $ ( document ).ready ( function ( ) {
    $('#dynamiccontent').html($('#songEditor').html());
    $('#songEditor').remove();
        var id = @id;
        console.log(id)
        if (id > -1){
            $.getJSON( "/songjson/"+id, function( json ) {
                //console.log( "JSON Data: " + json.users[ 3 ].name );
                $('#songName').attr("value", json.songName);
                $('#songAuthor').attr("value", json.songAuthor);
                $('#songLyrics').val(json.songLyrics);
            });
        }
    } ) ;
    </script>
}